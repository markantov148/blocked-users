<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset='utf-8'>
  <title>Blocked Users</title>
  <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
  <link rel="stylesheet" type="text/css" href="css/commontheme.css">
</head>

<body>
  <!--nav starts-->
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 topnav-border">
        <div class="float-start">
          <a class="cab-logo" href="cabadmin.html"><img src="images/cab-logo.svg" class="cabapp-logo" alt="logo"></a>
        </div>
        <div class="float-start">
          <ul class="list-group list-group-horizontal">
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs " href="cabadmin.html">Manage Requests And Cabs</a>
            </li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="history.html">History of Trips</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="complaints.html">Complaints</a></li>
            <li class="list-group-item nav-menu "><a class="link requests  requests-tabactive " href="#" onclick="getBlockedUsers()">Blocked
                Users</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="routemanagement.html">Route Management</a></li>
          </ul>
        </div>
        <div class="float-end">
          <!--notification starts-->
          <div class="float-start">
            <div class="header-right">
              <div class="dropdown col-md-12 float-start">
                <img class="cursor" src="images/notify.svg" alt="notify-icon" title="notifications"
                  data-toggle="dropdown" aria-expanded="true">
                <div class="dropdown-menu m-0 p-3 notify-filter">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-12 pb-2 border-0 mb-3"><span
                          class="text-style-title h-size3">Notification</span>
                        <button type="button" class="btn-close float-end close-filter" data-dismiss="notify-filter"
                          aria-label="Close">
                        </button>
                      </div>

                      <div class="col-md-12">
                        <div class="row mb-3">
                          <div class=" col-md-12 float-start topnav-border">
                            <img src="images/success.svg" class="notification-icon float-start" alt="notifyicon">
                            <p class="float-start notification-content">TN 12 W 3243 Trip ended<br>
                              <span class="color">Successfully</span>
                            </p>
                          </div>
                          <div class="float-end">
                            <h6 class="notification-time float-end ">Just now</h6>
                          </div>
                        </div>

                        <div>
                          <div class=" col-md-12 float-start topnav-border">
                            <img src="images/comp-red.svg" class="notification-icon float-start" alt="notifyicon">
                            <p class="float-start notification-content">1234 Nithya Raised a<br>
                              <span class="color1">Compliant</span>
                            </p>
                          </div>
                          <div class="float-end">
                            <h6 class="notification-time float-end ">Just now</h6>
                          </div>
                        </div>

                        <div>
                          <div class=" col-md-12 mt-3 ">
                            <div class="col-md-6 float-start notify-space">
                              <h6>2 Notifications</h6>
                            </div>
                            <div class="col-md-6 float-end notify-space1">
                              <a href="#" class="float-end">Clear All</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--notification here-->

          <!--user profile starts-->
          <div class="float-end">
            <div class="header-right">
              <div class="dropdown col-md-12 float-start">
                <img class="cursor navuserprofile-icons" src="images/user-profile.svg" alt="user-icon"
                  title="User Profile" data-toggle="dropdown" aria-expanded="true" />
                <div class="dropdown-menu m-0 p-3 user-filter">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-12 pb-2 border-0 mb-3">
                        <button type="button" class="btn-close float-end close-filter" data-dismiss="user-filter"
                          aria-label="Close">
                        </button>
                      </div>

                      <div class="col-md-12">

                        <div class="col-md-4 float-start">
                          <img src="images/user-icon-image.svg" class="user-profile-icon" alt="profileicon">
                        </div>
                        <div class="col-md-4 float-start">
                          <h5 class="userprofile-content pt-2">Raghavan Govind</h5>
                          <h5 class="userprofile-content1  pt-2">raghavan.g@avasoft.com</h5>
                          <button type="button" class="btnlogoutbtn mb-3 ">Logout</button>



                        </div>

                      </div>
                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--user profile ends-->

  <!--nav ends-->
  <div class="parent-container my-2 mb-3 px-lg-5">
    <!--this is my parent container-->
    <h2 class="h-size1 float-start mb-3 mt-4">Blocked Users</h2>
    <div class="header-right mt-3">
      <div class="dropdown filt float-start">
        <img class="cursor" src="images/Vector.svg" alt="filter-icon" title="Advanced Filter" data-toggle="dropdown"
        aria-expanded="true" />

      <div class="dropdown-menu m-0 p-3 advanced-filter">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12 pb-2 border-0 mb-3"><span class="text-style-title filter-title">Advanced
                Filter</span><button type="button" class="btn-close float-end" id="close-filter"
                data-dismiss="advanced-filter" aria-label="Close">

              </button>
            </div>
            <div class="col-md-12">
              <div class="row mb-3">
                <div class="col-md-12 mb-3">
                  <label class="mb-0 form-label filter-style" for="domain">Domain</label>
                  <input type="text" class="form-control border-filter-style1" id="domain">
                </div>
                <div class="col-md-6 mt-3 mb-3">
                  <label class="mb-0 form-label filter-style fil-style" for="source1">From</label>
                  <input type="text" class="form-control border-filter-style bord-style" id="source1">
                </div>
                <div class="col-md-6 mt-3 mb-3">
                  <label class="mb-0 form-label filter-style fil-style" for="to1">To</label>
                  <input type="text" class="form-control border-filter-style bord-style" id="to1">
                </div>

              </div>
              <div class=" float-end">
                <button type="button" class="btn btn-primary btn-sm cancel-btn text-center">Cancel</button>
                <button type="button" class="btn btn-primary btn-sm button1 text-center">Apply Filter</button>
              </div>


            </div>
          </div>
        </div>
      </div>
    </div>
    <!--filter ends here-->
      <!--search starts here-->
      <div class="float-start me-3">
        <div class="input-group flex-nowrap">
          <input type="text" class="form-control search-align" placeholder="Search" aria-label="Username"
            aria-describedby="addon-wrapping">
          <button class="input-group-text btn btn-search-custom" id="addon-wrapping"><img src="images/search.svg"
              alt="search-icon"></button>
        </div>
      </div>
    </div>
    <!--search ends here-->
    <!--table starts here-->
    <div class="w-100 float-start border">
      <table class="table mb-0 caps-grid">
        <thead>
          <tr class="display-shadow">
            <th class="header-class">Employee Id</th>
            <th class="header-class">Employee Name</th>
            <th class="header-class">Domain</th>
            <th class="header-class">Blocked Date<span class="sorting"><a class="sort-up" href="#"><img
                    class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                  href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
            <th class="header-class">Actions</th>
          </tr>
        </thead>
        <tbody id="">
          <tr class="row-bg-style">
            <td class="spacing">1234</td>
            <td class="spacing">Nithya</td>
            <td class="spacing">UXD</td>
            <td class="spacing">04/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" data-toggle="modal" data-target="#block-pop" /></a></td>
          </tr>        
           
          
          <tr class="row-bg-style">
            <td class="spacing">1235</td>
            <td class="spacing">Mani</td>
            <td class="spacing">UXD</td>
            <td class="spacing">04/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1236</td>
            <td class="spacing">Vishwa</td>
            <td class="spacing">JAVA</td>
            <td class="spacing">04/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1237</td>
            <td class="spacing">Rubin</td>
            <td class="spacing">UXD</td>
            <td class="spacing">04/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1238</td>
            <td class="spacing">Rohith</td>
            <td class="spacing">JAVA</td>
            <td class="spacing">12/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1239</td>
            <td class="spacing">Saro</td>
            <td class="spacing">UXD</td>
            <td class="spacing">04/03/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1240</td>
            <td class="spacing">Ji</td>
            <td class="spacing">JAVA</td>
            <td class="spacing">03/02/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
          <tr class="row-bg-style">
            <td class="spacing">1241</td>
            <td class="spacing">Nishok</td>
            <td class="spacing">JAVA</td>
            <td class="spacing">04/04/2021</td>
            <td class="spacing"><a href="#" title="unblock" class="actions-image"><img src="images/unblock.svg"
                  alt="unblock-icon" /></a></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="w-100 float-start">
      <!--total content display starts here-->
      <div class="header-left py-md-3">
        <span class="font-records">Showing:</span>
        <span class="regular">7 results out of 120</span>
      </div>
      <!--total content display ends here-->
      <!--Pagination starts here-->
      <div class="page py-md-3">
        <nav aria-label="Page navigation">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link pagination-border" href="#" aria-label="Previous">
                <img src="Images/pagination-prev-arrow.svg" alt="page-arrow" />
              </a>
            </li>
            <li class="page-item"><a class="page-link pagination-border page-active" href="#">1</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">2</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">3</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">...</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">9</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">10</a></li>
            <li class="page-item"><a class="page-link pagination-border" href="#">11</a></li>
            <li class="page-item">
              <a class="page-link pagination-border" href="#" aria-label="Next">
                <img src="Images/pagination-next-arrow.svg" alt="page-arrow" />
              </a>
            </li>
          </ul>
        </nav>
      </div>
      <!--pagination ends here-->
    </div>


  </div>

   <!--blocked users popup starts here-->
   <div class="modal fade" id="block-pop" tabindex="-1" role="dialog" aria-labelledby="block-pop"
   aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered " role="document">
     <div class="modal-content bor-pop ">
       <div class="modal-header border-0 pb-0">
         <div class="col-md-12 col-12">
           <button type="button" class="close closeicon float-end" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
         </div>
       </div>
       <div class="modal-body pt-2 pb-3 ">
         <div class="row justify-content-center">

           <p class="style-label text-center">Are you sure you want to unblock this employee?</p>

         </div>
       </div>
       <div class="row justify-content-center mb-5 mt-2">
         <div class="col-md-8 text-center">
           <button type="button" class="cancel-btn2" data-dismiss="modal">No</button>
           <button type="button" class="button11">Yes</button>
         </div>
       </div>
     </div>
   </div>
 </div>
 <!--blocked users popup ends here-->


  <script src="js/jquery.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script>
    $('.advanced-filter').click(function (event) {
      event.stopPropagation();

    });
    $('#close-filter').click(function () {
      $('.advanced-filter').removeClass('show');
    })

  </script>
  
  <script type="text/javascript">
  	window.onload = getBlockedUsers;
  	var xhr = new XMLHttpRequest();
  	var setTimeout = setInterval(getBlockedUsers, 60000);
  	function getBlockedUsers() {
  		xhr.open("GET", "http://localhost:8080/admin/blockedusers/list", true);
  		xhr.onreadystatechange = processResponse;
        xhr.send(null);
    }
  	
  	function processResponse() {

        if(xhr.readyState == 4 && xhr.status == 200) {

          var blockedUsersSheet = JSON.parse(this.responseText);
          displaySheet(blockedUsersSheet  );
        }

    }
  	var counter = 0;
    function displaySheet(obj) {

	   if(obj[0].status == "Not Reached") {
 		   clearInterval(setTimeout);
    }
    }
  	
  </script>
</body>

</html>